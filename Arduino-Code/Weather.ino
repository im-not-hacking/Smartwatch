// '202', 30x30px
const unsigned char w01 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x29, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x00, 0x07, 0xdf, 0x80, 0x00, 0x0f, 0xef, 0x00, 
  0x00, 0x1f, 0xef, 0xc0, 0x00, 0x1f, 0xff, 0x00, 0x00, 0x7f, 0xf3, 0x80, 0x00, 0xff, 0xfc, 0x80, 
  0x01, 0xff, 0xfe, 0x00, 0x01, 0xe3, 0xff, 0x00, 0x01, 0xdd, 0xff, 0x00, 0x01, 0xdf, 0xff, 0x00, 
  0x01, 0x9b, 0xff, 0x00, 0x00, 0xbe, 0xfe, 0x00, 0x00, 0x3e, 0xf8, 0x00, 0x00, 0x0d, 0x20, 0x00, 
  0x00, 0x09, 0x20, 0x00, 0x00, 0x11, 0x20, 0x00, 0x00, 0x03, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '233', 30x30px
const unsigned char w02 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x3f, 0x00, 0x00, 0x00, 0x7f, 0x80, 0x00, 0x00, 0x7f, 0x80, 0x00, 0x00, 0x7f, 0xc0, 0x00, 
  0x01, 0xff, 0xc0, 0x00, 0x07, 0xff, 0xf0, 0x00, 0x07, 0xff, 0xf8, 0x00, 0x07, 0xfe, 0x3c, 0x00, 
  0x0f, 0xfd, 0xfc, 0x00, 0x07, 0x85, 0xbc, 0x00, 0x07, 0x43, 0x1c, 0x00, 0x03, 0x03, 0xd8, 0x00, 
  0x01, 0x00, 0xd0, 0x00, 0x00, 0x9d, 0x80, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 
  0x00, 0x10, 0x00, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '300', 30x30px
const unsigned char w03 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x03, 0x00, 0x00, 0x00, 0x0f, 0xc0, 0x00, 0x00, 0x1f, 0xe0, 0x00, 0x00, 0x1f, 0xf0, 0x00, 
  0x00, 0x1f, 0xf0, 0x00, 0x00, 0xff, 0xf0, 0x00, 0x01, 0xff, 0xfe, 0x00, 0x01, 0xff, 0xff, 0x00, 
  0x01, 0xff, 0xff, 0x00, 0x01, 0xff, 0xff, 0x00, 0x01, 0xff, 0xff, 0x00, 0x01, 0xff, 0xff, 0x00, 
  0x00, 0xff, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x21, 0x08, 0x00, 0x00, 0x31, 0x18, 0x00, 
  0x00, 0x21, 0x00, 0x00, 0x00, 0x0c, 0x60, 0x00, 0x00, 0x0c, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '502', 30x30px
const unsigned char w04 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x1f, 0x80, 0x00, 0x00, 0x3f, 0xc0, 0x00, 0x00, 0x7f, 0xc0, 0x00, 0x00, 0x7f, 0xe0, 0x00, 
  0x00, 0xe7, 0xe0, 0x00, 0x03, 0xef, 0xf8, 0x00, 0x07, 0xef, 0xfc, 0x00, 0x0f, 0xf0, 0x00, 0x00, 
  0x0f, 0xff, 0xfe, 0x00, 0x0f, 0xfe, 0x00, 0x00, 0x0f, 0xfd, 0xfe, 0x00, 0x07, 0xfe, 0xfe, 0x00, 
  0x07, 0xff, 0x7e, 0x00, 0x01, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x66, 0x20, 0x00, 
  0x00, 0x66, 0x60, 0x00, 0x00, 0x44, 0x60, 0x00, 0x00, 0xc4, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '521', 30x30px
const unsigned char w05 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x0a, 0x80, 0x00, 0x03, 0xc7, 0x20, 0x00, 0x07, 0xf7, 0xc0, 
  0x00, 0x0f, 0xfb, 0xc0, 0x00, 0x0f, 0xfb, 0xc0, 0x00, 0x1f, 0xf9, 0xc0, 0x00, 0x7f, 0xfe, 0x20, 
  0x00, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0x80, 0x00, 0xff, 0xff, 0x80, 0x00, 0xff, 0xff, 0x80, 
  0x00, 0xff, 0xff, 0x80, 0x00, 0x7f, 0xff, 0x80, 0x00, 0x3f, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x0a, 0x14, 0x00, 0x00, 0x12, 0x84, 0x00, 0x00, 0x14, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '600', 30x30px
const unsigned char w06 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x52, 0x00, 0x00, 0x00, 0x7c, 0x00, 0x00, 0x0f, 0x7d, 0x00, 0x00, 0x3f, 0xfe, 0x00, 
  0x00, 0x3f, 0xdf, 0x80, 0x00, 0x3f, 0xde, 0x00, 0x00, 0xff, 0xef, 0x00, 0x01, 0xff, 0xf9, 0x00, 
  0x03, 0xff, 0xfc, 0x00, 0x03, 0xff, 0xfe, 0x00, 0x03, 0xff, 0xfe, 0x00, 0x03, 0xff, 0xfe, 0x00, 
  0x03, 0xff, 0xfe, 0x00, 0x01, 0xff, 0xfc, 0x00, 0x00, 0xff, 0xf0, 0x00, 0x00, 0x09, 0x80, 0x00, 
  0x00, 0x09, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x26, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '601', 30x30px
const unsigned char w07 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x0f, 0xe0, 0x00, 
  0x00, 0x0f, 0xf0, 0x00, 0x00, 0x1f, 0xf0, 0x00, 0x00, 0x1f, 0xf0, 0x00, 0x00, 0x7f, 0xf8, 0x00, 
  0x01, 0xff, 0xff, 0x00, 0x01, 0xff, 0xff, 0x80, 0x03, 0xff, 0xff, 0x80, 0x03, 0xff, 0xff, 0x80, 
  0x03, 0xff, 0xff, 0x80, 0x01, 0xff, 0xff, 0x80, 0x00, 0xff, 0xff, 0x00, 0x00, 0x7f, 0xfe, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x19, 0x90, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0xc0, 0x00, 
  0x00, 0x04, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '611', 30x30px
const unsigned char w08 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x80, 0x00, 0x00, 0x1f, 0xc0, 0x00, 
  0x00, 0x3f, 0xc0, 0x00, 0x00, 0x3f, 0xc0, 0x00, 0x00, 0xff, 0xf0, 0x00, 0x01, 0xff, 0xf8, 0x00, 
  0x01, 0xff, 0xfc, 0x00, 0x01, 0xff, 0xfc, 0x00, 0x01, 0x8f, 0xfc, 0x00, 0x01, 0x0f, 0xf8, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00, 0x07, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '700', 30x30px
const unsigned char w09 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0xac, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x00, 0x3f, 0x7e, 0x00, 
  0x00, 0x7f, 0xfc, 0x00, 0x00, 0x7f, 0xbf, 0x00, 0x00, 0xff, 0xbc, 0x00, 0x01, 0xff, 0x8e, 0x00, 
  0x07, 0xff, 0xf0, 0x00, 0x07, 0xff, 0xf8, 0x00, 0x0f, 0xff, 0xfc, 0x00, 0x0f, 0xff, 0xfc, 0x00, 
  0x06, 0x00, 0x1c, 0x00, 0x06, 0x80, 0x18, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x01, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xff, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '800+', 30x30px
const unsigned char w010 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xe0, 0x00, 0x00, 0x3f, 0xf8, 0x00, 
  0x00, 0x7f, 0xfc, 0x00, 0x00, 0xff, 0xfe, 0x00, 0x01, 0xff, 0xfe, 0x00, 0x01, 0xff, 0xff, 0x00, 
  0x01, 0xff, 0xff, 0x00, 0x03, 0xff, 0xff, 0x00, 0x03, 0xff, 0xff, 0x80, 0x03, 0xff, 0xff, 0x80, 
  0x03, 0xff, 0xff, 0x00, 0x01, 0xff, 0xff, 0x00, 0x01, 0xff, 0xff, 0x00, 0x01, 0xff, 0xff, 0x00, 
  0x00, 0xff, 0xfe, 0x00, 0x00, 0x7f, 0xfc, 0x00, 0x00, 0x3f, 0xf8, 0x00, 0x00, 0x0f, 0xe0, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '801', 30x30px
const unsigned char w011 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0x00, 0x00, 0x03, 0xfe, 0x00, 0x00, 
  0x07, 0xff, 0x00, 0x00, 0x07, 0xff, 0x80, 0x00, 0x0f, 0xff, 0x80, 0x00, 0x0f, 0xff, 0xf0, 0x00, 
  0x0f, 0xff, 0xf8, 0x00, 0x0f, 0xff, 0xfc, 0x00, 0x0f, 0xff, 0xfe, 0x00, 0x07, 0xff, 0xff, 0x80, 
  0x07, 0xff, 0xff, 0xe0, 0x03, 0xff, 0xff, 0xe0, 0x03, 0xff, 0xff, 0xf0, 0x03, 0xff, 0xff, 0xf0, 
  0x03, 0xff, 0xff, 0xf0, 0x03, 0xff, 0xff, 0xf0, 0x03, 0xff, 0xff, 0xe0, 0x01, 0xff, 0xff, 0xe0, 
  0x00, 0x7f, 0xff, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '803', 30x30px
const unsigned char w012 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xc0, 0x00, 0x00, 0xff, 0xf0, 0x00, 
  0x01, 0xff, 0xf8, 0x00, 0x03, 0xff, 0xfc, 0x00, 0x03, 0xff, 0xfe, 0x00, 0x1f, 0xff, 0xfe, 0x00, 
  0x3f, 0xff, 0xff, 0x00, 0x7f, 0xff, 0xff, 0x80, 0xff, 0xff, 0xff, 0x80, 0xff, 0xff, 0xff, 0xf0, 
  0xff, 0xff, 0xff, 0xf8, 0x7f, 0xff, 0xff, 0xf8, 0x7f, 0xff, 0xff, 0xfc, 0x1f, 0xff, 0xff, 0xfc, 
  0x01, 0xff, 0xff, 0xfc, 0x00, 0xff, 0xff, 0xf8, 0x00, 0xff, 0xff, 0xf8, 0x00, 0x7f, 0xff, 0xf0, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// '804', 30x30px
const unsigned char w013 [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x03, 0xe0, 0x00, 0x00, 0x07, 0xf8, 0x00, 0x00, 0x0f, 0xfc, 0x00, 0x00, 0x1f, 0xfc, 0x00, 
  0x00, 0x7f, 0xff, 0x00, 0x00, 0xff, 0xff, 0xc0, 0x00, 0xff, 0xff, 0xc0, 0x00, 0xff, 0xff, 0xc0, 
  0x00, 0xff, 0xff, 0xc0, 0x00, 0xff, 0xff, 0xc0, 0x07, 0xff, 0xff, 0x80, 0x0f, 0xff, 0xfe, 0x00, 
  0x0f, 0xff, 0xfe, 0x00, 0x0f, 0xff, 0xfe, 0x00, 0x0f, 0xff, 0xfe, 0x00, 0x0f, 0xff, 0xfc, 0x00, 
  0x07, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

// 'temperature', 30x30px
const unsigned char wtemp [] PROGMEM = {
  0x00, 0x03, 0x00, 0x00, 0x00, 0x07, 0x80, 0x00, 0x00, 0x08, 0x40, 0x00, 0x00, 0x08, 0x40, 0x00, 
  0x00, 0x0b, 0x40, 0x00, 0x00, 0x0b, 0x40, 0x00, 0x00, 0x0b, 0x70, 0x00, 0x00, 0x0b, 0x40, 0x00, 
  0x00, 0x0b, 0x70, 0x00, 0x00, 0x0b, 0x70, 0x00, 0x00, 0x0b, 0x40, 0x00, 0x00, 0x0b, 0x70, 0x00, 
  0x00, 0x0b, 0x40, 0x00, 0x00, 0x0b, 0x40, 0x00, 0x00, 0x0b, 0x40, 0x00, 0x00, 0x0b, 0x40, 0x00, 
  0x00, 0x0b, 0x40, 0x00, 0x00, 0x0b, 0x40, 0x00, 0x00, 0x1b, 0x60, 0x00, 0x00, 0x33, 0x30, 0x00, 
  0x00, 0x67, 0x98, 0x00, 0x00, 0x48, 0x48, 0x00, 0x00, 0x58, 0x68, 0x00, 0x00, 0x58, 0x68, 0x00, 
  0x00, 0x58, 0x68, 0x00, 0x00, 0x4c, 0xc8, 0x00, 0x00, 0x27, 0x90, 0x00, 0x00, 0x30, 0x30, 0x00, 
  0x00, 0x1f, 0xe0, 0x00, 0x00, 0x03, 0x00, 0x00
};

// 'rain', 20x25px
const unsigned char wrain [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x60, 0x00, 0x00, 0xf0, 0x00, 0x00, 0xf0, 0x00, 0x01, 0xf8, 0x00, 0x03, 
  0x9c, 0x00, 0x07, 0x1e, 0x00, 0x07, 0x0e, 0x00, 0x0e, 0x07, 0x00, 0x1c, 0x03, 0x80, 0x18, 0x03, 
  0x80, 0x38, 0x01, 0xc0, 0x70, 0x00, 0xe0, 0x62, 0x90, 0x60, 0xe2, 0x00, 0x70, 0xc2, 0xa0, 0x30, 
  0xc0, 0x58, 0x30, 0xc0, 0xa4, 0x30, 0xe0, 0x24, 0x70, 0x60, 0x00, 0x60, 0x70, 0x00, 0xe0, 0x38, 
  0x01, 0xc0, 0x1e, 0x07, 0x80, 0x0f, 0xff, 0x00, 0x01, 0xf8, 0x00
};



const unsigned char* weather_icons[13] = {w01,w02,w03,w04,w05,w06,w07,w08,w09,w010,w011,w012,w013};


int x_codes[38] = {200,201,202,230,231,232,233,300,301,302,500,501,502,511,520,521,522,600,601,602,610,611,612,621,622,623,700,711,721,731,741,751,800,801,802,803,804,900};
String x_descriptions[38] = {"Thunderstorm","Thunderstorm","Thunderstorm","Thunderstorm","Thunderstorm","Thunderstorm","Thunderstorm","Light Drizzle","Drizzle","Heavy Drizzle","Light Rain","Moderate Rain","Heavy Rain","Freezing rain","Shower rain","Shower rain","Shower rain", "Light snow", "Snow", "Heavy Snow", "Snow/Rain", "Sleet","Heavy sleet","Snow shower", "Snow shower", "Flurries", "Mist", "Smoke", "Haze", "Sand/Dust", "Fog", "Fog", "Clear sky","Few clouds", "Scat. clouds", "Broken clouds", "Cloudy", "Precipitation"};
String x_descriptions_new[38] = {"Storm","Storm","Storm","Storm","Storm","Storm","Storm","Drizz","Drizz","Drizz","L.Rain","Rain","H.Rain","Rain","Rain","Rain","Rain", "L.Snow", "Snow", "H.Snow", "Snow", "Sleet","Sleet","Snow", "Snow", "Snow", "Mist", "Smoke", "Haze", "Sand", "Fog", "Fog", "Clear","F.Cld", "S.Cld", "B.Cld", "Cloudy", "Precip"};


String w_description = "Unknown";
int windex = 0;

const unsigned char* w_bitmap;

void print_weather_time(){
  pinMode(32, OUTPUT);
  digitalWrite(32, HIGH);

  String s=sendBLE("/weather");
  Serial.println(s);
  String temp=s.substring(0,s.indexOf(","));
  int f1=s.indexOf(",");
  String location=s.substring(f1+1,s.indexOf(",",f1+1));
  int f2=s.indexOf(",",f1+1);
  String wspeed=s.substring(f2+1,s.indexOf(",",f2+1));
  int f3=s.indexOf(",",f2+1);
  String wdir=s.substring(f3+1,s.indexOf(",",f3+1));
  int f4=s.indexOf(",",f3+1);
  String snow=s.substring(f4+1,s.indexOf(",",f4+1));
  int f5=s.indexOf(",",f4+1);
  String precip=s.substring(f5+1);

  int w_code = precip.toInt();
  for (int i=0; i<38; i++) {
   if (w_code == x_codes[i]) {
     w_description = x_descriptions_new[i];
     break;
   }
  }

  Oled.setTextColor(color);
  Oled.setFont();
  int newtemp = temp.toInt();
  drawCentreString(w_description + " - "+newtemp+"C",64,15);
}

void showWeather(){
  pinMode(32, OUTPUT);
  digitalWrite(32, HIGH);
  Oled.fillScreen(BLACK);
  drawedge(selected);

  
  String s=sendBLE("/weather");
  Serial.println(s);
  String temp=s.substring(0,s.indexOf(","));
  int f1=s.indexOf(",");
  String location=s.substring(f1+1,s.indexOf(",",f1+1));
  int f2=s.indexOf(",",f1+1);
  String wspeed=s.substring(f2+1,s.indexOf(",",f2+1));
  int f3=s.indexOf(",",f2+1);
  String wdir=s.substring(f3+1,s.indexOf(",",f3+1));
  int f4=s.indexOf(",",f3+1);
  String snow=s.substring(f4+1,s.indexOf(",",f4+1));
  int f5=s.indexOf(",",f4+1);
  String precip=s.substring(f5+1);

  int w_code = precip.toInt();
  for (int i=0; i<38; i++) {
   if (w_code == x_codes[i]) {
     w_description = x_descriptions[i];
     windex = i;
     break;
   }
  }

  if (w_code <= 202){w_bitmap = weather_icons[0];}
  if (w_code > 202 and w_code <=233){w_bitmap = weather_icons[1];}
  if (w_code > 233 and w_code <=302){w_bitmap = weather_icons[2];}
  if ((w_code > 302 and w_code <=522) or w_code ==900){w_bitmap = weather_icons[3];}
  if (w_code > 522 and w_code <=602){w_bitmap = weather_icons[7];}
  if ((w_code > 602 and w_code <=621) or w_code == 622){w_bitmap = weather_icons[8];}
  if (w_code > 622 and w_code <=751){w_bitmap = weather_icons[8];}

  if(w_code == 502){w_bitmap = weather_icons[4];}
  if(w_code == 521){w_bitmap = weather_icons[5];}
  if(w_code == 600 or w_code == 610 or w_code == 621){weather_icons[6];}
  if(w_code == 623){w_bitmap = weather_icons[6];}
  if(w_code == 800){w_bitmap = weather_icons[9];}

  if(w_code > 800 and w_code <900){w_bitmap = weather_icons[12];}
    

  Oled.drawBitmap(15, 23, w_bitmap, 30, 30, color);
  Oled.drawBitmap(15, 53, wtemp, 30, 30, color);
  Oled.drawBitmap(20, 88, wrain, 20, 25, color);

  
  Oled.setTextColor(color);
  Oled.setFont(&Lato_Regular_11);
  drawCentreString(w_description,83,38);
  drawCentreString(temp+" C",83,72);
  drawCentreString(wdir+" %",83,104);

  //drawCentreString(location, 66, 40);
  //drawCentreString("Temp: "+temp, 66, 55);
  //drawCentreString("Wspd: "+wspeed, 66, 70);
  //drawCentreString("Wdir: "+wdir, 66, 85);
  //drawCentreString("Snow: "+snow, 66, 100);
  //drawCentreString("Precip: "+precip, 66, 115);
  while ((digitalRead(b_button) ==  HIGH) && (digitalRead(m_button) ==  HIGH) && (digitalRead(t_button) ==  HIGH)){

  }
  if(makeSound){buzzer();}
  prevMinute = -1;
  prevHour = -1;
  prevSecond = -1;
  v_prevhour = -1;
  v_prevminute = -1;
  v_prevsecond = -1;
  ampm = "None";
}
